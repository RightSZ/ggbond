?plot
library(VIM)
?plot
?aggr
library(patchwork)
devtools::document()
devtools::build()
library(ggbond)
?aggrPlot
devtools::document()
devtools::build()
library(ggbond)
?aggrPlot
usethis::use_package(ggplot2,type = "Imports")
usethis::use_package("ggplot2",type = "Imports")
?person
use_gpl3_license()
usethis::use_gpl3_license()
devtools::build()
library(ggbond)
??ggbond
ggbond
devtools::install("ggbond")
??ggbond
help(package="ggbond")
?ggbond
??ggbond
help(package="ggbond")
source("~/Documents/ggbond/R/varimpPlot.R", echo=TRUE)
devtools::build()
library(ggbond)
?varimpPlot
library(ggbond)
?varimpPlot
devtools::document()
library(ggbond)
help(package="ggbond")
library(ggbond)
library(ggbond)
?varimpPlot
remove.packages("ggbond")
devtools::install_github("RightSZ/ggbond")
library(ggbond)
?varimpPlot
ceiling(30.6)
31/5
seq(0, ceiling(30.6), by = floor(ceiling(30.6)/5))
seq(0, ceiling(30.6), by = ceiling(ceiling(30.6)/5))
seq(0, ceiling(30.6), by = ceiling(ceiling(30.6)/5))
ceiling(ceiling(30.6)/5)
seq(0, ceiling(30.6), by = (ceiling(30.6)/5))
seq(0, ceiling(37.6), by = (ceiling(37.6)/5))
seq(0, ceiling(37.6), by = floor(ceiling(37.6)/5))
ceiling(37.6)/5
floor(ceiling(37.6)/5)
?seq
seq.int(0, ceiling(37.6), by = (ceiling(37.6)/5))
seq(0, ceiling(37.6), length.out=5)
seq.int(0, ceiling(37.6), length.out=5)
seq.int(from = 0,by=(ceiling(37.6)/5))
seq.int(from = 0, to=ceiling(37.6))
seq(along.with= 1)
seq(along.with= 3)
seq.int(from = 0, to=ceiling(37.6),along.with= 3)
seq.int(from = 0, to=ceiling(37.6),along.with= 100)
seq.int(from = 0, by = 5)
seq(from = 0, by = 5)
seq(from = 0, by = ceiling(37.6)/5, length.out = 5)
seq(0, ceiling(max(d$MeanDecreaseGini)), by = )
floor(ceiling(37.6)/5)
seq(from = 0, by = floor(ceiling(37.6)/5), length.out = 5)
seq(from = 0, by = floor(ceiling(37.6)/5), length.out = 6)
seq(from = 0, by = floor(floor(37.6)/5), length.out = 6)
seq(from = 0, by = ceiling(floor(37.6)/5), length.out = 6)
varimpPlot<-function(d,cutoff){
d<-as.data.frame(d)
d$Rowname<-rownames(d)
if(!missing(cutoff)){
d$color_value <- ifelse(d$MeanDecreaseGini >= cutoff, d$MeanDecreaseGini, NA)
}
p<-ggplot(d, aes(
x = MeanDecreaseGini,
y = reorder(Rowname, MeanDecreaseGini)
)) +
geom_point(aes(color = color_value)) +
geom_segment(aes(
x = 0, xend = MeanDecreaseGini,color=color_value
)) +
labs(y = NULL) +
theme_bw()+
scale_color_viridis_c(na.value = "grey50")+
theme(legend.position = "none")+
scale_x_continuous(
breaks = seq(from = 0, by = ceiling(floor(max(d$MeanDecreaseGini))/5), length.out = 6),
limits = c(0, ceiling(max(d$MeanDecreaseGini)))
)
if(!missing(cutoff)){
p<-p+geom_vline(xintercept = cutoff, color = "red",alpha=0.7, linetype = "dashed")
}
return(p)
}
?varimpPlot
set.seed(1234)
library(randomForest)
library(ggbond)
iris.rf <- randomForest(Species ~ ., data=iris,ntree=500)
optionTrees = which.min(iris.rf$err.rate[,1])
iris.rf2 = randomForest(as.factor(Species)~.,data = iris,ntree=optionTrees)
importance = importance(x=iris.rf2)
varimpPlot(importance, cutoff=3)
library(ggplot2)
library(randomForest)
library(ggbond)
iris.rf <- randomForest(Species ~ ., data=iris,ntree=500)
optionTrees = which.min(iris.rf$err.rate[,1])
iris.rf2 = randomForest(as.factor(Species)~.,data = iris,ntree=optionTrees)
importance = importance(x=iris.rf2)
varimpPlot(importance, cutoff=3)
d<-importance
d<-as.data.frame(d)
d$Rowname<-rownames(d)
if(!missing(cutoff)){
d$color_value <- ifelse(d$MeanDecreaseGini >= cutoff, d$MeanDecreaseGini, NA)
}
ceiling(floor(max(d$MeanDecreaseGini))/5)
c(0, ceiling(max(d$MeanDecreaseGini)))
View(d)
varimpPlot<-function(d,cutoff){
d<-as.data.frame(d)
d$Rowname<-rownames(d)
if(!missing(cutoff)){
d$color_value <- ifelse(d$MeanDecreaseGini >= cutoff, d$MeanDecreaseGini, NA)
}
p<-ggplot(d, aes(
x = MeanDecreaseGini,
y = reorder(Rowname, MeanDecreaseGini)
)) +
geom_point(aes(color = color_value)) +
geom_segment(aes(
x = 0, xend = MeanDecreaseGini,color=color_value
)) +
labs(y = NULL) +
theme_bw()+
scale_color_viridis_c(na.value = "grey50")+
theme(legend.position = "none")+
scale_x_continuous(
breaks = seq(from = 0, by = ceiling(floor(max(d$MeanDecreaseGini))/5), length.out = 6)
)
if(!missing(cutoff)){
p<-p+geom_vline(xintercept = cutoff, color = "red",alpha=0.7, linetype = "dashed")
}
return(p)
}
varimpPlot(importance, cutoff=3)
varimpPlot<-function(d,cutoff){
d<-as.data.frame(d)
d$Rowname<-rownames(d)
if(!missing(cutoff)){
d$color_value <- ifelse(d$MeanDecreaseGini >= cutoff, d$MeanDecreaseGini, NA)
}
p<-ggplot(d, aes(
x = MeanDecreaseGini,
y = reorder(Rowname, MeanDecreaseGini)
)) +
geom_point(aes(color = color_value)) +
geom_segment(aes(
x = 0, xend = MeanDecreaseGini,color=color_value
)) +
labs(y = NULL) +
theme_bw()+
scale_color_viridis_c(na.value = "grey50")+
theme(legend.position = "none")+
scale_x_continuous(
breaks = seq(from = 0, by = ceiling(floor(max(d$MeanDecreaseGini))/5), length.out = 6),
limits = c(0, ceiling(max(d$MeanDecreaseGini)))
)
if(!missing(cutoff)){
p<-p+geom_vline(xintercept = cutoff, color = "red",alpha=0.7, linetype = "dashed")
}
return(p)
}
varimpPlot(importance, cutoff=3)
c(0, max(seq(from = 0, by = ceiling(floor(max(d$MeanDecreaseGini))/5), length.out = 6)))
varimpPlot<-function(d,cutoff){
d<-as.data.frame(d)
d$Rowname<-rownames(d)
if(!missing(cutoff)){
d$color_value <- ifelse(d$MeanDecreaseGini >= cutoff, d$MeanDecreaseGini, NA)
}
p<-ggplot(d, aes(
x = MeanDecreaseGini,
y = reorder(Rowname, MeanDecreaseGini)
)) +
geom_point(aes(color = color_value)) +
geom_segment(aes(
x = 0, xend = MeanDecreaseGini,color=color_value
)) +
labs(y = NULL) +
theme_bw()+
scale_color_viridis_c(na.value = "grey50")+
theme(legend.position = "none")+
scale_x_continuous(
breaks = seq(from = 0, by = ceiling(floor(max(d$MeanDecreaseGini))/5), length.out = 6),
limits = c(0, max(seq(from = 0, by = ceiling(floor(max(d$MeanDecreaseGini))/5), length.out = 6)))
)
if(!missing(cutoff)){
p<-p+geom_vline(xintercept = cutoff, color = "red",alpha=0.7, linetype = "dashed")
}
return(p)
}
varimpPlot(importance, cutoff=3)
devtools::document()
devtools::document()
library(ggbond)
library(VIM)
data(sleep, package="VIM")
library(missForest)
data(sleep, package="VIM")
sleep2<-missForest(sleep)$ximp
data <- aggr(sleep2)
aggrPlot(d=data)
library(dplyr)
aggrPlot(d=data)
